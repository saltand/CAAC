import { Meta } from '@storybook/blocks';

<Meta title="Introduction" />

# CAAC - Cat as a Component 🐱

欢迎使用 **CAAC**（Cat as a Component），一个跨框架的猫图组件库！

## 🎯 项目介绍

CAAC 提供了一个统一的组件接口，让你可以在不同的前端框架中展示随机的猫咪图片。支持的框架包括：

- **Vue 2/3** - 完全兼容 Vue 2 和 Vue 3
- **React** - 支持 React 18+ 和 Next.js
- **Svelte 5** - 使用最新的 Svelte 5 runes
- **Nuxt** - 原生 Nuxt 模块支持

## ✨ 核心特性

### 🚀 简单易用
- 统一的 API 接口
- 开箱即用，零配置
- TypeScript 完全支持

### 🎨 灵活定制
- 可配置的尺寸
- 自定义占位文本
- 内置切换按钮（可选）
- 支持自定义样式

### ⚡ 性能优化
- SSR/SSG 支持
- 智能加载状态管理
- 错误处理和重试机制
- 轻量级依赖

### 🔧 开发者友好
- 完整的 TypeScript 类型定义
- 详细的事件回调
- 命令式 API 支持
- 丰富的文档和示例

## 📦 安装

### Vue
```bash
pnpm add @caac/vue
# or
npm install @caac/vue
```

### React
```bash
pnpm add @caac/react
# or
npm install @caac/react
```

### Svelte
```bash
pnpm add @caac/svelte
# or
npm install @caac/svelte
```

### Nuxt
```bash
pnpm add @caac/nuxt
# or
npm install @caac/nuxt
```

## 🚀 快速开始

### Vue 示例
```vue
<template>
  <CatImage 
    :width="300" 
    :height="300" 
    :show-switch-button="true"
    @change="handleChange"
  />
</template>

<script setup>
import { CatImage } from '@caac/vue';

const handleChange = (url) => {
  console.log('New cat image:', url);
};
</script>
```

### React 示例
```jsx
import { CatImage } from '@caac/react';
import { useRef } from 'react';

function App() {
  const catRef = useRef();

  const handleExternalChange = () => {
    catRef.current?.change();
  };

  return (
    <>
      <CatImage 
        ref={catRef}
        width={300} 
        height={300} 
        showSwitchButton
        onChange={(url) => console.log('New cat:', url)}
      />
      <button onClick={handleExternalChange}>
        换一只猫
      </button>
    </>
  );
}
```

### Svelte 示例
```svelte
<script>
  import { CatImage } from '@caac/svelte';
  
  let catComponent;
  
  function handleChange(url) {
    console.log('New cat image:', url);
  }
  
  function externalChange() {
    catComponent?.change();
  }
</script>

<CatImage 
  bind:this={catComponent}
  width={300} 
  height={300} 
  showSwitchButton={true}
  onChange={handleChange}
/>

<button on:click={externalChange}>
  换一只猫
</button>
```

## 📖 API 参考

### Props

| 属性 | 类型 | 默认值 | 描述 |
|------|------|--------|------|
| `width` | `number \| string` | `300` | 组件宽度 |
| `height` | `number \| string` | `300` | 组件高度 |
| `placeholder` | `string` | `'Loading cat...'` | 加载时的占位文本 |
| `showSwitchButton` | `boolean` | `false` | 是否显示内置切换按钮 |
| `apiKey` | `string` | `undefined` | 可选的 Cat API 密钥 |

### Events

| 事件 | 参数 | 描述 |
|------|------|------|
| `onLoad` | `(url: string)` | 图片加载成功时触发 |
| `onError` | `(error: Error)` | 加载失败时触发 |
| `onChange` | `(url: string)` | 切换图片成功时触发 |

### Methods

| 方法 | 返回值 | 描述 |
|------|--------|------|
| `change()` | `Promise<void>` | 手动触发切换新的猫图 |

## 🎨 Storybook 导航

在左侧边栏中，你可以找到各个框架的组件示例：

- **Components/Vue/CatImage** - Vue 组件的各种配置示例
- **Components/React/CatImage** - React 组件的各种配置示例
- **Components/Svelte/CatImage** - Svelte 组件的各种配置示例

每个组件都提供了多个故事（Stories），展示不同的使用场景和配置选项。

## 🤝 贡献

我们欢迎所有形式的贡献！无论是报告问题、提交 PR、改进文档还是分享使用经验。

## 📄 许可证

MIT License - 自由使用，记得给猫咪点赞！ 🐱

---

<div style="text-align: center; margin-top: 40px;">
  <h3>开始探索可爱的猫咪世界吧！ 🎉</h3>
  <p>在左侧选择一个框架开始体验</p>
</div>